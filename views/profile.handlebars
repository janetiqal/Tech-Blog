<div class="welcomeProfile" >
    <h1 id="dashboardHeader">WELCOME TO YOUR PROFILE,</br><span id="username">{{username}}!</span> </h1>
    {{!ADD STYLING TO THIS BUTTON--PICK A THEME/COLORS FOR SITE}}
    <button type="button" class="btn btn-success" id="new-post" data-bs-toggle="modal" data-bs-target="#staticBackdrop"
        data-target=".createPost">CREATE NEW POST</button>
</div>

{{#if postlength}}
{{#each posts as |post|}}
<div class="card card-post">
    <h2 class="card-header">Title: {{title}}</h2>
    <span class="post-spans"> <button type="button" class="btn btn-warning" data-toggle="modal" id="edit-post"
            data-target="#post{{id}}"><i class="far fa-edit"></i></button>&nbsp;&nbsp;
        <button class="btn-danger" id="delete-post" data-toggle="modal" data-target="#deletePost{{id}}"><i
                class="fas fa-trash-alt"></i></button></span>
    <p>{{post_body}}</p>
    <p>Written by: {{user.username}} {{format_date created_at}}</p>
</div>

{{!-- {{EDIT POST MODAL}} --}}
<div class="modal fade" id="post{{id}}" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 id="title">Editing Post: {{title}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-title" style="margin: 0 auto;">
                 <h5 id="title">Edit Title:</h5>
                <textarea name="newTitle" placeholder="New Title" class="newTitle" id="title{{id}}" cols="40"
                    rows="1">{{title}}</textarea>
            </div>
            <div class="modal-body" style="margin: 0 auto;">
                 <h5 id="title">Edit Body:</h5>
                <textarea name="newBody" class="newBody" id="body{{id}}" cols="40" rows="9">{{post_body}}</textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary update-post" data-dismiss="modal"
                    data-id={{id}}>Update</button>
            </div>
        </div>
    </div>
</div>

{{!-- {{Delete Post Warning MODAL}} --}}
<div class="modal fade" id="deletePost{{id}}" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Delete Post: {{title}}</h5>
                <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete the {{title}} post?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-danger delete-post" data-dismiss="modal"
                    data-id={{id}}>Delete</button>
            </div>
        </div>
    </div>
</div>
{{/each}}
{{else}}
<h1>No Posts yet.</h1>
{{/if}}

{{!-- {{CREATE NEW Post w a static Modal, had to be outside of if statement}}} --}}
<div class="modal fade createPost" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Create New Post</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-title" style="margin: 0 auto;">
                <h5 style="text-align: center;">Title:</h5>
                <textarea name="newPostTitle" placeholder="Post Title" class="newPostTitle" cols="40"
                    rows="1"></textarea>
            </div>
            <div class="modal-body" style="margin: 0 auto;">
                <h5 style="text-align: center;">Post Content</h5>
                <textarea name="postBody" class="postBody" cols="40" rows="9"></textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" data-bs-dismiss="modal" class="btn btn-primary new-post">Post</button>
            </div>
        </div>
    </div>
</div>
<script src="/javascript/post.js"></script>